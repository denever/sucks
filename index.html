<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>The web sucks too much</title>
    <script src="resources/showdown.js" type="text/javascript"></script>
    <link href="resources/hate.css" rel="stylesheet" type="text/css"/>
    <link href="http://fonts.googleapis.com/css?family=Oswald:400,700,300" rel="stylesheet" type="text/css"/>
    <script>

function http_get(url) {
    var request = new XMLHttpRequest()
    request.open("GET", url, false)
    request.send(null)
    return request.responseText
}

function fill_markdown(hate) {
    var text          = http_get('hates/' + hate)
    var title         = hate.replace('.', ' ')
    var desc          = ' sucks <small>and we explain you why</small>'

    var content       = document.getElementById('content')
    content.innerHTML = converter.makeHtml(text)

    var header        = document.getElementById('title')
    header.innerHTML  = title + desc
}

converter = new Showdown.converter()
window.onload = function () { fill_markdown('the.web') }

    </script>
</head>
<body>
    <h1 class="headtitle" id="title">The web sucks <small>and we explain you why</small></h1>
    <div class="bodycontent" id="content">
    </div>
    </body>
</html>
